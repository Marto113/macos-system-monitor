<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>macOS System Monitor</title>

  <link rel="stylesheet" href="./styles/app.css">
</head>

<body>
  <!-- ================= OVERVIEW DASHBOARD ================= -->

  <h1>System Monitor</h1>

  <div id="cpu-model">Loading CPU info...</div>
  <div id="cpu">Loading CPU info...</div>
  <div id="memory">Loading memory info...</div>
  <div id="resources">Loading resources info...</div>

  <div class="chart-container">
    <div class="chart card" data-panel="cpu">
      <canvas id="cpuChart"></canvas>
      <button class="details-btn">Details</button>
    </div>

    <div class="chart card" data-panel="memory">
      <canvas id="memChart"></canvas>
      <button class="details-btn">Details</button>
    </div>
  </div>

  <div class="chart-container">
    <div class="chart card" data-panel="network">
      <canvas id="networkChart"></canvas>
      <button class="details-btn">Details</button>
    </div>

    <div class="chart card storage" data-panel="storage">
      <canvas id="storageChartDoughnut"></canvas>
      <button class="details-btn">Details</button>
    </div>
  </div>

  <!-- ================= SLIDE-IN DETAIL PANEL ================= -->

  <div id="detail-overlay" class="hidden"></div>

  <aside id="detail-panel" class="hidden">
    <button id="close-panel">Ã—</button>

    <!-- -------- CPU DETAIL -------- -->
    <section id="panel-cpu" class="panel hidden">
      <h2>CPU Details</h2>
      <p>Processes using CPU</p>
      <button id="toggle-process-mode">Show system</button>

      <div class="process-list">
        <div class="process-header">
          <span>App</span>
          <span>PID</span>
          <span>User</span>
          <span>CPU %</span>
          <span>CPU Time</span>
          <span>Mem %</span>
        </div>

        <div id="cpu-process-rows" class="process-rows" data-mode="user"></div>
      </div>

      <div class="panel-chart">
        <canvas id="cpuDetailChart"></canvas>
      </div>
    </section>

    <!-- -------- MEMORY DETAIL -------- -->
    <section id="panel-memory" class="panel hidden">
      <h2>Memory Breakdown</h2>

      <div class="panel-chart">
        <canvas id="memDetailChart"></canvas>
      </div>

      <div class="panel-list" id="mem-process-list">
      </div>
    </section>

    <!-- -------- NETWORK DETAIL -------- -->
    <section id="panel-network" class="panel hidden">
      <h2>Network Activity</h2>

      <div class="panel-chart">
        <canvas id="networkDetailChart"></canvas>
      </div>

      <div class="panel-list" id="network-app-list">
      </div>
    </section>

    <!-- -------- STORAGE DETAIL -------- -->
    <section id="panel-storage" class="panel hidden">
      <h2>Storage Usage</h2>

      <div class="panel-chart">
        <canvas id="storageDetailChart"></canvas>
      </div>

      <div class="panel-list" id="storage-list">
      </div>
    </section>
  </aside>

  <!-- ================= SCRIPTS ================= -->

  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <script type="module" src="./renderer/renderer.js"></script>
</body>
</html>
